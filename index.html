<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>SheetPilot</title>
<style>
  body { font-family: Arial, sans-serif; background: #1e4f77; color: #f5f5dc; }
  h1 { text-align: center; }
  .container { width: 90%; max-width: 800px; margin: auto; }
  select, input[type="text"] { width: 100%; padding: 8px; margin: 4px 0; border: 2px solid #f5f5dc; background: #1e4f77; color: #fff; }
  select:focus, input[type="text"]:focus { outline: none; border-color: #fff; }
  .section { background: #245b85; padding: 16px; border-radius: 8px; margin-bottom: 16px; }
  .header-section { border: 2px solid #f5f5dc; padding: 8px; background: #1e4f77; color: #fff; margin-bottom: 8px; }
  .header-section select, .header-section input { background: #1e4f77; border: 2px solid #f5f5dc; color: #fff; }
  button { background: #00bfff; color: #fff; padding: 8px 16px; border: none; cursor: pointer; margin-top: 8px; }
  button:hover { background: #009acd; }
</style>
</head>
<body>

<h1>SheetPilot</h1>

<div class="container">
  <!-- Phase 1: Industry & Subcategory -->
  <div class="section">
    <label for="industry">Select Your Industry:</label>
    <select id="industry" onchange="updateSubcategories()">
      <option>-- Select Industry --</option>
      <option>Finance</option>
      <option>Retail</option>
      <option>Healthcare</option>
      <option>Construction</option>
      <option>Education</option>
      <option>Technology</option>
      <option>Legal</option>
      <option>Real Estate</option>
      <option>Food & Beverage</option>
      <option>Manufacturing</option>
      <option>Transportation</option>
      <option>Hospitality</option>
      <option>Marketing</option>
      <option>Arts & Entertainment</option>
      <option>Nonprofit</option>
      <option>Government</option>
      <option>Insurance</option>
      <option>Personal Care</option>
      <option>Fitness & Wellness</option>
      <option>Accounting</option>
      <option>Engineering</option>
      <option>Human Resources</option>
      <option>Medical Equipment</option>
      <option>Pharmaceutical</option>
      <option>IT Support</option>
      <option>Veterinary</option>
      <option>Interior Design</option>
      <option>Childcare</option>
      <option>Cleaning Services</option>
      <option>Landscaping</option>
      <option>Auto Repair</option>
      <option>Religious Institutions</option>
      <option>Security</option>
      <option>Printing & Publishing</option>
      <option>Photography</option>
      <option>Crafts & Hobbies</option>
      <option>Event Planning</option>
      <option>Pet Care</option>
      <option>Travel & Tourism</option>
      <option>Translation & Language Services</option>
      <option>Courier & Delivery</option>
      <option>Farming & Agriculture</option>
      <option>Wholesale</option>
      <option>Funeral Services</option>
      <option>Utilities</option>
      <option>Waste Management</option>
      <option>Environmental Services</option>
      <option>Call Centers</option>
      <option>Rural & Blue Collar Services</option>
    </select>

    <label for="subcategory">Select Your Subcategory:</label>
    <select id="subcategory">
      <option>-- Choose Subcategory --</option>
    </select>
  </div>

  <!-- Phase 2: Upload & Map Columns -->
  <div class="section">
    <label for="file">Upload Your File:</label>
    <input type="file" id="file" />
    <button onclick="loadFile()">Add/Replace</button>

    <h2>Map Your Columns</h2>
    <p>Use the dropdowns or enter custom labels. Data will shift based on header labels.</p>
    <div id="columnMapping"></div>
    <button onclick="previewTable()">Preview Table</button>
  </div>

  <div class="section" id="tableContainer"></div>
</div>

<script>
const subcategories = {
  Finance: ["Accountants", "Financial Planners"],
  Retail: ["Clothing Stores", "Convenience Stores"],
  Healthcare: ["Hospitals", "Clinics"],
  // (Add more subcategories for each industry as needed!)
};

const industryHeaders = {
  Finance: ["Client Name", "Amount", "Payment Status", "Notes", "Service Date"],
  Retail: ["Product", "Price", "Quantity", "Client Name", "Date"],
  Healthcare: ["Patient Name", "Service Date", "Amount", "Status", "Notes"],
  // (Add more header suggestions for each industry!)
};

function updateSubcategories() {
  const industry = document.getElementById("industry").value;
  const subSelect = document.getElementById("subcategory");
  subSelect.innerHTML = "<option>-- Choose Subcategory --</option>";
  if (subcategories[industry]) {
    subcategories[industry].forEach(sub => {
      const opt = document.createElement("option");
      opt.textContent = sub;
      subSelect.appendChild(opt);
    });
  }
}

function loadFile() {
  const headers = industryHeaders[document.getElementById("industry").value] || [];
  const columnMap = document.getElementById("columnMapping");
  columnMap.innerHTML = "";
  headers.forEach(header => {
    const div = document.createElement("div");
    div.className = "header-section";
    div.innerHTML = `
      <input type="checkbox" checked /> 
      <select><option>-- Select Header --</option><option>${header}</option></select>
      <input type="text" placeholder="Or enter custom label" />
    `;
    columnMap.appendChild(div);
  });
}

function previewTable() {
  const tableDiv = document.getElementById("tableContainer");
  tableDiv.innerHTML = "<p style='color:#f5f5dc;'>Example table preview would load here.</p>";
}
</script>

</body>
</html>
